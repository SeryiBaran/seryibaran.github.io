---
import BaseHead from '@/components/BaseHead.astro'
import Header from '@/components/Header.astro'
import Footer from '@/components/Footer.astro'
import Main from '@/components/Main.astro'
import TablerArrowUp from '~icons/tabler/arrow-up'
import { SITE_DESCRIPTION } from '../consts'

interface Props {
  title: string
  description?: string | undefined
  image?: string | undefined
}

const { title, description, image } = Astro.props
---

<!doctype html>
<html lang="ru">
  <head>
    <BaseHead
      title={title}
      description={description || SITE_DESCRIPTION}
      image={image}
    />
  </head>
  <body id="home">
    <Header />
    <Main>
      <slot />
    </Main>
    <Footer />
    <a
      href="#home"
      class="fixed right-10 bottom-10 p-4 rounded-full bg-primary-500 link_without_effects hidden md:block"
      aria-label="Вернуться наверх"
      title="Вернуться наверх"
      ><TablerArrowUp class="block text-3xl text-white" /><span class="hidden"
        >Наверх</span
      ></a
    >
    <script>
      const css = `:where(article>*, ul>li, ol>li):nth-child(1n) {
      color: rgb(248 113 113);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(2n) {
      color: rgb(251 146 60);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(3n) {
      color: rgb(250 204 21);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(4n) {
      color: rgb(74 222 128);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(5n) {
      color: rgb(56 189 248);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(6n) {
      color: rgb(96 165 250);
    }
    
    :where(article>*, ul>li, ol>li):nth-child(7n) {
      color: rgb(167 139 250);
    }
    
    :where(article>*, ul>li, ol>li) a {
      color: inherit !important;
    }
    
    *:not(.katex-display):not(.katex-display *) {
      font-family: 'Comic Sans MS';
    }`

      const month = 4 - 1
      const day = 1

      const todayDate = new Date()

      if (todayDate.getMonth() === month && todayDate.getDate() === day) {
        document.body.innerHTML += `<style>${css}</style>`
      }
    </script>
  </body>
</html>
