---
title: 'Как исправить ошибку с ts-node "Unknown file extension .ts"?'
description: 'Маленькая инструкция по исправлению ошибки "Unknown file extension ".ts""'
pubDatetime: 2023-04-10T20:00:00
tags: ["программирование", "typescript"]
---

import Alert from "@components/Alert";

Это маленькая инструкция по исправлению ошибки `Unknown file extension ".ts"`.

По умолчанию `tsc --init` генерирует конфигурацию для CJS. Код CJS работает нормально из коробки:
![Скриншт нормальной работы](/uploads/kak-ispravit-unknown-extension-ts-node/cjs-work.png)

Но если вы попробуете без должных настроек выполнить ESM TS файл, возникнет ошибка:
![Скриншот ошибки](/uploads/kak-ispravit-unknown-extension-ts-node/esm-not-work.png)

Чтобы её исправить - следуйте инструкциям ниже

## Если вам нужно ESM

Отредактируйте `package.json`:

```diff
{
  // ...
+  "type": "module",
  // ...
}
```

Отредактируйте `tsconfig.json`:

```diff
{
  // ...
-  "module": "commonjs",
+  "module": "ES2020",
+  "ts-node": {
+    "esm": true
+  }
  // ...
}
```

## Если вам нужно CommonJS

Отредактируйте `package.json`:

```diff
{
  // ...
-  "type": "module",
  // ...
}
```

Отредактируйте `tsconfig.json`:

```diff
{
  // ...
-  "module": "ES2020",
+  "module": "commonjs",
-  "ts-node": {
-    "esm": true
-  }
  // ...
}
```
